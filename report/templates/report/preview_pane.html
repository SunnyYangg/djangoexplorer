{% if data %}
    <div>
        <h2>Preview</h2>
        {% if rows > total_rows %}
            <p>Showing {{ total_rows }} of {{ total_rows }} total rows. <a href="download">Download CSV</a> (all rows)</p>
        {% else %}
            <p>First <input style="text-align: center; width: 40px;" type="text" name="rows" id="rows" value="{{ rows }}" /> of {{ total_rows }} total rows. <a href="download">Download CSV</a></p>
        {% endif %}
        <div style="overflow: auto; height: 500px;" id="overflow_wrapper">
            <table class="table table-striped table-hover" id="preview">
                <thead style="background: white;">
                    <tr>
                        {% for h in headers %}
                            <th>{{ h }}</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                    {% for row in data %}
                    <tr>
                        {% for i in row %}
                            <td>{{ i }}</td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endif %}